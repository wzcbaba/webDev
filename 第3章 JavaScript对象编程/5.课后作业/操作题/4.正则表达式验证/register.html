<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>用户注册</title>
<style type="text/css">
td{font-size:12px}
h1{ font-size:12px;background:#F4FBFF}
a{
	color:#0E69C7; text-decoration:none;
}
a:hover{text-decoration:underline; color:#FF6633}
.style1 {color: #FF0000}
</style>
<script type="text/javascript">
function checkForm(){
	if(checkUserName()&&checkPass()&&checkBirth()&&checkEmail()){
		return true;
	}else{
		return false;
	}
}
//用户名非空+长度+合法性验证
function checkUserName(){
	var name=document.getElementById("txtUser").value;
	var reg=/^[0-9a-z_]{4,16}$/;
//	if(name.value==""){
//		alert("请输入用户名");
//		name.focus();
//		return false;
//	}
//	if(name.value.length<4||name.value.length>16){
//		alert("用户名输入的长度4-16个字符");
//		name.select();
//		return false;
//	}
//	for(var i=0;i<name.value.length;i++){
//	     var charTest=name.value.toLowerCase().charAt(i);
//		 if( (!(charTest>='0' && charTest<='9')) &&  (!(charTest>='a' && charTest<='z'))  && (charTest!='_') ){
//		  alert("用户名包含非法字符，只能包括字母,数字和下划线");
//		  name.select();
//		  return false;
//		  }
//	  }
	  if(!reg.test(name))
	  {
	  	 alert("用户名长度4-16位，只能包括字母,数字和下划线");
		return false;
	  }
	  else
	  	return true;
}
//密码非空+长度+密码确认验证
function checkPass(){
	var pass=document.getElementById("txtPass");
	var rpass=document.getElementById("txtrPass");
	if(pass.value==""){
		alert("密码不能为空");
		pass.focus();
		return false;
	}if(pass.value.length<6||pass.value.length>16){
		alert("密码长度为6-16个字符");
		pass.select();
		return false;   
	}
	if(rpass.value!=pass.value){
		alert("确认密码与密码输入不一致");
		rpass.select();
		return false;
	}
	return true;
}
//出生日期验证
function checkBirth(){
var birth=document.getElementById("txtBirth").value;
	if(birth==""){
		alert("请填写出生日期");
		return false;
	}else if(birth.length<10){
		alert("出生日期格式错误");
		return false;
	}else{
	//截取字符串分别获得年月日
		var year=birth.substring(0,4);
		var month=birth.substring(5,7);
		var day=birth.substring(8,birth.length);
		if(birth.charAt(4)!="-"||birth.charAt(7)!="-"){//判断日期是否符合格式要求
			alert("出生日期格式yyyy-mm-dd");
			document.getElementById("txtBirth").select();
			return false;
		}else if(isNaN(year)||isNaN(month)||isNaN(day)){
			alert("年月日必须是数字");
			document.getElementById("txtBirth").select();
			return false;
		}
		var time=new Date();
		if(parseInt(year,10)<1900||parseInt(year,10)>time.getFullYear()){
			alert("出生日期范围从1900年-"+time.getFullYear()+"年");
			document.getElementById("txtBirth").select();
			return false;
		}else if(parseInt(month,10)<1||parseInt(month,10)>12){
			alert("您输入的月份不在1-12月之间");
			document.getElementById("txtBirth").select();
			return false;
		}else if(parseInt(day,10)<1||parseInt(day,10)>31){
			alert("您输入的天数不在1-31之间");
			document.getElementById("txtBirth").select();
			return false;
		}
	}
	return true;
}
//电子邮件验证
function checkEmail(){
	var strEmail=document.getElementById("txtEmail").value;
	var reg=/^\w+@\w+\.\w+$/;
	if(!reg.test(strEmail))
	{
		 alert("电子邮件格式不正确");
		 return false;
	}
	else
		return true;
	 //if (strEmail.value.length==0)
//	 {
//	    alert("电子邮件不能为空!");
//		strEmail.focus();
//		return false;
//	 }
//     if (strEmail.value.indexOf("@",0)==-1)
//	 {
//	    alert("电子邮件格式不正确\n必须包含@符号！");
//		strEmail.select();
//		return false;
//	 }
//     if (strEmail.value.indexOf(".",0)==-1)
//	 {
//	    alert("电子邮件格式不正确\n必须包含.符号！");
//		strEmail.select();
//		return false;
//	 }
//	 return false;
}

</script>
</head>

<body>

<form action="" method="post"  onsubmit="return checkForm()">
<table  width="100%"  border="0" cellspacing="0" cellpadding="0">
  <tr><td><img src="images/top.jpg"></td></tr>
</table>
<table align="center" class="main">
<tr>
  <td >
欢迎您申请免费QQ号码，申请过程将不会收取您任何费用。我们承诺保护您的信息安全,不会将它提供给任何第三方。<BR>
注：<FONT color="red">*</FONT>为必填内容
  </td>
</tr>
<tr><td><H1>您的帐户信息</H1></td></tr>
<tr>
  <td>
	<table width="514" align="center">
		<tr>
			<td width="108" align="right" > <span class="style1">*</span> 昵称： </td>
			<td width="394"><input type="text" id="txtUser" size="30" onblur="checkUserName()"/></td>
		</tr>
		<tr><td>&nbsp;</td>
		<td  >英文字母，数字或者下划线，长度为4-16个字符</td>
		</tr>
		<tr>
			<td width="108" align="right" > <span class="style1">*</span> 密码： </td>
			<td width="394"><input type="password" id="txtPass"size="30"/></td>
		</tr>
		<tr><td>&nbsp;</td>
		<td >6-16个字符组成字母或数字组成</td>
		</tr>
		<tr>
			 <td align="right"><span class="style1">*</span> 重新输入密码：</td>
			 <td><input id="txtrPass" type="password" /></td>
		</tr>
		
	</table>  
	</td>
 </tr>
<tr><td><H1>您的个人信息</H1></td></tr>
<tr>
  <td>
  	<table width="514" align="center">
		<tr>
			 <td width="110" align="right"> <span class="style1">*</span> 出生日期： </td>
		    <td width="392"><input id="txtBirth" type="text" maxlength="10" onblur="checkBirth()"/>
		    日期格式yyyy-mm-dd</td>
		</tr>
		<tr>
			  <td  align="right"> 性别：</td>
			  <td><input name="sex" type="radio" value="male" checked="checked"/>
			  男<input name="sex" type="radio" value="fmale"/>
			  女</td>
		</tr>
		<tr>
			  <td  align="right"><span class="style1">*</span>电子邮件地址：</td>
			  <td><input id="txtEmail" type="text" onblur="checkEmail()" /></td>
		</tr>
	</table>  
  </td>
</tr>
<tr><td><H1>所在地区</H1></td></tr>
<tr>
  <td>
  	<table width="514" align="center">
		<tr>
			<td width="113" align="right" > 国家： </td>
			<td width="389"><select id="national">
			  <option value="1" selected>中华人民共和国</option>
			  <option value="2">其他国家和地区</option>
			</select></td>
		</tr>
		<tr><td align="right">省份：</td>
		<td >
			<select id="distract">
			  <option selected>请选择</option>
			  <option value="1">北京</option>
			  <option value="2">天津</option>
			  <option value="3">上海</option>
			  <option value="4">重庆</option>
			  <option value="5">东北</option>
			  <option value="6">西北</option>
			  <option value="7">华北</option>
			</select>
		</td>
		</tr>
	</table>  
  </td>
</tr>
<tr><td><H1>相关服务条款</H1></td></tr>
<tr>
  <td>
  	<table width="665">
		<tr><td align="center"><input type="submit" name="btn" value="提交注册"/></td></tr>
	</table> 
	
  </td>
</tr>
</table>
</form>
</body>
</html>
