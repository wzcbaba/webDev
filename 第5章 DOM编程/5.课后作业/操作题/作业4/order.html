<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>网上订单</title>
<style type="text/css">
body{
	font-size:13px;
	line-height:25px;
	}
table{
	border-top: 1px solid #333;
	border-left: 1px solid #333;
	width:400px;
}
td{
	border-right: 1px solid #333;
	border-bottom: 1px solid #333;
	text-align:center;
	}
.title{	
	font-weight:bold;
	background-color: #cccccc;
}

      
</style>
<script type="text/javascript">
function addRow(){
   var addTable=document.getElementById("order");
   var row_index=addTable.rows.length-1;       //新插入行在表格中的位置
   var newRow=addTable.insertRow(row_index);  //插入新行
   newRow.id="row"+row_index;                 //设置新插入行的ID
   
   var col1=newRow.insertCell(0);
   col1.innerHTML="<input id='a"+row_index+"' style='width:160px;' type='text' />";
   
   var col2=newRow.insertCell(1);
   col2.innerHTML="<input id='b"+row_index+"' style='width:30px;' type='text' />";
   
   var col3=newRow.insertCell(2);
   col3.innerHTML="<input id='c"+row_index+"' style='width:30px;' type='text' />";
   
   var col4=newRow.insertCell(3);
   col4.innerHTML="<input name='del"+row_index+"' type='button' value='删除' onclick=\"delRow('row"+row_index+ "')\" />&nbsp;<input id='edit"+row_index+"' type='button' value='确定' onclick=\"upRow('row"+row_index+ "')\" />";

	}
	
function delRow(rowId){
	var row=document.getElementById(rowId).rowIndex;   //删除行所在表格中的位置
	document.getElementById("order").deleteRow(row); 
	}
	
function editRow(rowId){
	var row=document.getElementById(rowId).rowIndex;   //修改行所在表格中的位置
	var col=document.getElementById(rowId).cells;
	var texta=col[0].innerHTML;
	col[0].innerHTML="<input name='a"+row+"' style='width:160px;' type='text' value='"+texta+"' />";
	var textb=col[1].innerHTML;
	col[1].innerHTML="<input name='b"+row+"' style='width:30px;' type='text' value='"+textb+"' />";
	var textc=col[2].innerHTML;
	col[2].innerHTML="<input name='b"+row+"' style='width:30px;' type='text' value='"+textc+"' />";
	
	col[3].lastChild.value="确定";
	col[3].lastChild.setAttribute("onclick","upRow('"+rowId+ "')");

	}	

function upRow(rowId){
	var row=document.getElementById(rowId).rowIndex;   //修改行所在表格中的位置
	var col=document.getElementById(rowId).cells;
	var texta=col[0].firstChild.value;
	var textb=col[1].firstChild.value;
	var textc=col[2].firstChild.value;
	col[0].innerHTML=texta;
	col[1].innerHTML=textb;
	col[2].innerHTML=textc;
	
	col[3].lastChild.value="修改";
	col[3].lastChild.setAttribute("onclick","editRow('"+rowId+ "')");


	}
</script>
</head>

<body><table width="100%" border="0" cellspacing="0" cellpadding="0" id="order">
  <tr class="title">
    <td>商品名称</td>
    <td>数量</td>
    <td>单价</td>
     <td>操作</td>
  </tr>
  <tr id="row1">
    <td>玫瑰保湿睡眠面膜</td>
    <td>5</td>
    <td>&yen;48</td>
    <td><input name="del" type="button" value="删除" onclick='delRow("row1")' />
     <input name="edit" type="button" value="修改"  onclick='editRow("row1")' /></td>
  </tr>
  <tr>
    <td style="text-align:center; height:30px;" colspan="4">
    <input name="bsn" type="button" value="增加定单" onclick="addRow()" /></td>
  </tr>
</table>

</body>
</html>
